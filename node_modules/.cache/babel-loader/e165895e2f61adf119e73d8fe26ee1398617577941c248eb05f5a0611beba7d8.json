{"ast":null,"code":"const handleSubmit = async e => {\n  e.preventDefault();\n  if (cardNumber && expiryDate && cvv) {\n    try {\n      var _user;\n      const response = await fetch('/api/orders', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}` // if using JWT\n        },\n        body: JSON.stringify({\n          userId: (_user = user) === null || _user === void 0 ? void 0 : _user._id,\n          items: cart,\n          total: total,\n          payment: {\n            cardNumber,\n            expiryDate,\n            cvv\n          }\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        alert('Order placed successfully!');\n        setCart([]);\n        navigate('/home');\n      } else {\n        alert(data.error || 'Failed to place order');\n      }\n    } catch (err) {\n      console.error('Checkout error:', err);\n      alert('Server error while placing order');\n    }\n  }\n};","map":{"version":3,"names":["handleSubmit","e","preventDefault","cardNumber","expiryDate","cvv","_user","response","fetch","method","headers","localStorage","getItem","body","JSON","stringify","userId","user","_id","items","cart","total","payment","data","json","ok","alert","setCart","navigate","error","err","console"],"sources":["C:/project/ReadDemo/src/components/Checkout.js"],"sourcesContent":["const handleSubmit = async (e) => {\n  e.preventDefault();\n  if (cardNumber && expiryDate && cvv) {\n    try {\n      const response = await fetch('/api/orders', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}` // if using JWT\n        },\n        body: JSON.stringify({\n          userId: user?._id,\n          items: cart,\n          total: total,\n          payment: { cardNumber, expiryDate, cvv }\n        })\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        alert('Order placed successfully!');\n        setCart([]);\n        navigate('/home');\n      } else {\n        alert(data.error || 'Failed to place order');\n      }\n    } catch (err) {\n      console.error('Checkout error:', err);\n      alert('Server error while placing order');\n    }\n  }\n};"],"mappings":"AAAA,MAAMA,YAAY,GAAG,MAAOC,CAAC,IAAK;EAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClB,IAAIC,UAAU,IAAIC,UAAU,IAAIC,GAAG,EAAE;IACnC,IAAI;MAAA,IAAAC,KAAA;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,aAAa,EAAE;QAC1CC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClC,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC;QAC7D,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBC,MAAM,GAAAV,KAAA,GAAEW,IAAI,cAAAX,KAAA,uBAAJA,KAAA,CAAMY,GAAG;UACjBC,KAAK,EAAEC,IAAI;UACXC,KAAK,EAAEA,KAAK;UACZC,OAAO,EAAE;YAAEnB,UAAU;YAAEC,UAAU;YAAEC;UAAI;QACzC,CAAC;MACH,CAAC,CAAC;MAEF,MAAMkB,IAAI,GAAG,MAAMhB,QAAQ,CAACiB,IAAI,CAAC,CAAC;MAElC,IAAIjB,QAAQ,CAACkB,EAAE,EAAE;QACfC,KAAK,CAAC,4BAA4B,CAAC;QACnCC,OAAO,CAAC,EAAE,CAAC;QACXC,QAAQ,CAAC,OAAO,CAAC;MACnB,CAAC,MAAM;QACLF,KAAK,CAACH,IAAI,CAACM,KAAK,IAAI,uBAAuB,CAAC;MAC9C;IACF,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZC,OAAO,CAACF,KAAK,CAAC,iBAAiB,EAAEC,GAAG,CAAC;MACrCJ,KAAK,CAAC,kCAAkC,CAAC;IAC3C;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}