{"ast":null,"code":"const handleSubmit = async e => {\n  e.preventDefault();\n  if (cardNumber && expiryDate && cvv) {\n    try {\n      const response = await fetch('/api/orders', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}` // JWT required\n        },\n        body: JSON.stringify({\n          items: cart,\n          total,\n          payment: {\n            cardNumber,\n            expiryDate,\n            cvv\n          }\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        alert('Order placed successfully!');\n        setCart([]);\n        navigate('/home');\n      } else {\n        alert(data.error || 'Failed to place order');\n      }\n    } catch (err) {\n      console.error('Checkout error:', err);\n      alert('Server error while placing order');\n    }\n  }\n};","map":{"version":3,"names":["handleSubmit","e","preventDefault","cardNumber","expiryDate","cvv","response","fetch","method","headers","localStorage","getItem","body","JSON","stringify","items","cart","total","payment","data","json","ok","alert","setCart","navigate","error","err","console"],"sources":["C:/project/ReadDemo/src/components/Checkout.js"],"sourcesContent":["const handleSubmit = async (e) => {\n  e.preventDefault();\n  if (cardNumber && expiryDate && cvv) {\n    try {\n      const response = await fetch('/api/orders', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}` // JWT required\n        },\n        body: JSON.stringify({\n          items: cart,\n          total,\n          payment: { cardNumber, expiryDate, cvv }\n        })\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        alert('Order placed successfully!');\n        setCart([]);\n        navigate('/home');\n      } else {\n        alert(data.error || 'Failed to place order');\n      }\n    } catch (err) {\n      console.error('Checkout error:', err);\n      alert('Server error while placing order');\n    }\n  }\n};"],"mappings":"AAAA,MAAMA,YAAY,GAAG,MAAOC,CAAC,IAAK;EAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClB,IAAIC,UAAU,IAAIC,UAAU,IAAIC,GAAG,EAAE;IACnC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,aAAa,EAAE;QAC1CC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClC,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC;QAC7D,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBC,KAAK,EAAEC,IAAI;UACXC,KAAK;UACLC,OAAO,EAAE;YAAEf,UAAU;YAAEC,UAAU;YAAEC;UAAI;QACzC,CAAC;MACH,CAAC,CAAC;MAEF,MAAMc,IAAI,GAAG,MAAMb,QAAQ,CAACc,IAAI,CAAC,CAAC;MAElC,IAAId,QAAQ,CAACe,EAAE,EAAE;QACfC,KAAK,CAAC,4BAA4B,CAAC;QACnCC,OAAO,CAAC,EAAE,CAAC;QACXC,QAAQ,CAAC,OAAO,CAAC;MACnB,CAAC,MAAM;QACLF,KAAK,CAACH,IAAI,CAACM,KAAK,IAAI,uBAAuB,CAAC;MAC9C;IACF,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZC,OAAO,CAACF,KAAK,CAAC,iBAAiB,EAAEC,GAAG,CAAC;MACrCJ,KAAK,CAAC,kCAAkC,CAAC;IAC3C;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}